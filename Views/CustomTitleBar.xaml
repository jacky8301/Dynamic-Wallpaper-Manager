<UserControl
    x:Class="WallpaperEngine.Views.CustomTitleBar"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
    Height="40">
    <Border Background="{DynamicResource MaterialDesign.Brush.Primary.Light}">
        <Grid>
            <!--  标题和图标区域  -->
            <StackPanel
                Margin="10,0"
                VerticalAlignment="Center"
                Orientation="Horizontal">
                <!--  程序图标  -->
                <Image
                    x:Name="IconImage"
                    Width="30"
                    Height="30"
                    Margin="0,0,8,0"
                    VerticalAlignment="Center"
                    Source="/Assets/app.ico" />
                <TextBlock
                    VerticalAlignment="Center"
                    FontSize="14"
                    FontWeight="SemiBold"
                    Foreground="White"
                    Text="{Binding Title, RelativeSource={RelativeSource AncestorType=UserControl}}" />
            </StackPanel>

            <!--  窗口控制按钮  -->
            <StackPanel HorizontalAlignment="Right" Orientation="Horizontal">
                <Button
                    x:Name="MinimizeButton"
                    Width="40"
                    Height="40"
                    Click="MinimizeButton_Click"
                    Style="{StaticResource MaterialDesignToolButton}"
                    ToolTip="最小化"
                    WindowChrome.IsHitTestVisibleInChrome="True">
                    <materialDesign:PackIcon
                        Width="16"
                        Height="16"
                        Foreground="White"
                        Kind="WindowMinimize" />
                </Button>

                <Button
                    x:Name="MaximizeButton"
                    Width="40"
                    Height="40"
                    Click="MaximizeButton_Click"
                    Style="{StaticResource MaterialDesignToolButton}"
                    ToolTip="最大化"
                    WindowChrome.IsHitTestVisibleInChrome="True">
                    <materialDesign:PackIcon
                        Width="16"
                        Height="16"
                        Foreground="White"
                        Kind="WindowMaximize" />
                </Button>

                <Button
                    x:Name="CloseButton"
                    Width="40"
                    Height="40"
                    Click="CloseButton_Click"
                    Style="{StaticResource MaterialDesignToolButton}"
                    ToolTip="关闭"
                    WindowChrome.IsHitTestVisibleInChrome="True">
                    <materialDesign:PackIcon
                        Width="16"
                        Height="16"
                        Foreground="White"
                        Kind="WindowClose" />
                </Button>
            </StackPanel>
        </Grid>
    </Border>
</UserControl>